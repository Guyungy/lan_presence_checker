# 摸鱼助手 — 领导来了吗

> **领导来没，摸鱼先看它**
>
> 支持整个网段扫描，实时用"蓝/橙/红"告诉你领导「在线／查询中／离线」，安心摸鱼不用东张西望。
>
> 新增数据库支持，历史记录永不丢失！

---

## 🌟 核心功能

* **实时监控**：每 30s 自动 Ping 一次，随时知道领导活动状态
* **一眼看懂**：列表页颜色分明，在线（🔵）、查询中（🟠）、离线（🔴）；
* **自定义神器**：给领导改名、写备注、标类型（电脑/手机），配合搜索、过滤，谁是谁一目了然；
* **热力图一键看**：点名字跳详情，分钟级精确热力图（横看日期，竖看分钟），帮你找准最佳摸鱼时机。
* **网段扫描**：支持扫描整个网段（如192.168.50.0/24），自动发现新设备；
* **数据库存储**：使用数据库保存设备信息和历史记录，数据永不丢失；
* **多网段支持**：可同时监控多个不同的网段，覆盖更广泛的办公区域。

---

## 🚀 安装说明

1. **准备**：

   * 安装 Python 3.7+，执行 `pip install -r requirements.txt`；
   * 确保系统自带 `ping` 命令（大部分操作系统默认提供），无需管理员权限即可运行；
   * 复制 `.env.example` 为 `.env` 并根据需要修改配置；
2. **运行**：

   ```bash
   git clone <仓库地址>
   cd lan-presence-checker
   python app.py
   ```
3. **浏览**：
   打开浏览器访问 `http://localhost:5000`

---

---

## 🔜 未来展望

* **通知推送**：整合飞书/企业微信/邮件，领导上线立刻打卡提醒；
* **智能分析**：结合活跃度给你推荐最安全的摸鱼时间；
* **团队模式**：和小伙伴共享状态表，集体摸鱼更放心。

---

## 📝 配置说明

`.env` 文件中的主要配置项：

```
# 数据库配置
DATABASE_URL=sqlite:///lan_checker.db
# 可选: mysql://user:password@localhost/dbname
# 可选: postgresql://user:password@localhost/dbname

# 扫描配置
SCAN_INTERVAL=300  # 扫描间隔（秒）
HISTORY_DAYS=30    # 历史记录保留天数

# 网段配置（逗号分隔多个网段）
NETWORKS=192.168.50.0/24,192.168.40.0/24

# 日志级别
LOG_LEVEL=INFO
```

**摸鱼从此简单，快去愉快地摸鱼吧！**
